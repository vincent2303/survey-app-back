{"version":3,"sources":["../../models/setup.js"],"names":["Models","require","Sondage","Thematique","User","Reponse","Question","Remplissage","JourSondage","Commentaire","creationTable","Promise","resolveAll","sync","force","then","create","id","firstName","lastName","email","pseudo","salt","hash","auth","photo","lastMailDate","Date","now","mailIntensity","author","createdAt","name","current","sondage_id","date_emmission","nombre_emission","valeur","thematique_id","keyWord","user_id","date","remplissage_id","commentaire","question_id","console","log","suppressionTables","commentaireDel","resolve","drop","reponseDel","jourSondageDel","all","questionDel","remplissageDel","thematiqueDel","userDel","setupTables","delReponse","findOne","elem","destroy","delCommentaire","delJourSondage","delQuestion","delRemplissage","delThematique","delSondage","delUser","clearTable","promises","push","module","exports"],"mappings":"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","sourcesContent":["const Models = require(\"./index\");\n\nconst { \n  Sondage, Thematique, User, Reponse, Question, Remplissage, JourSondage, Commentaire,\n} = Models;\n\nconst creationTable = function () {\n  return new Promise(function (resolveAll) {\n    User.sync({ force: true }).then(() => {\n      User.create({\n        id: \"fake_user_id\",\n        firstName: \"fake_first_name\",\n        lastName: \"fake_last_name\",\n        email: \"fake_user_email@fake_mail.bite\",\n        pseudo: \"fake_pseudo\",\n        salt: \"fake_salt\",\n        hash: \"fake_hash\",\n        auth: 0,\n        photo: \"./public/user/photo/default.jpg\",\n        lastMailDate: Date.now(),\n        mailIntensity: 1,\n      });\n    }).then(() => {\n      Sondage.sync({ force: true }).then(() => {\n        Sondage.create({\n          id: \"fake_sondage_id\",\n          author: \"fake_author\",\n          createdAt: Date.now(),\n          name: \"fake_name\",\n          current: true,\n        });\n      }).then(() => {\n        JourSondage.sync({ force: true }).then(() => {\n          JourSondage.create({\n            id: \"fake_jour_sondage_id\",\n            sondage_id: \"fake_sondage_id\",\n            date_emmission: Date.now(),\n            nombre_emission: 1,\n          });\n        });\n        Thematique.sync({ force: true }).then(() => {\n          Thematique.create({\n            id: \"fake_thematique_id\",\n            name: \"fake_name\",\n          });\n        }).then(() => {\n          Question.sync({ force: true }).then(() => {\n            Question.create({\n              id: \"fake_question_id\",\n              sondage_id: \"fake_sondage_id\",\n              valeur: \"fake_question\",\n              thematique_id: \"fake_thematique_id\",\n              keyWord: \"fake_keyWord\",\n            });\n          }).then(() => {\n            Remplissage.sync({ force: true }).then(() => {\n              Remplissage.create({\n                id: \"fake_remplissage_id\",\n                sondage_id: \"fake_sondage_id\",\n                user_id: \"fake_user_id\",\n                date: Date.now(),\n              });\n            }).then(() => {\n              Commentaire.sync({ force: true }).then(() => {\n                Commentaire.create({\n                  id: \"fake_commentaire_id\",\n                  remplissage_id: \"fake_remplissage_id\",\n                  thematique_id: \"fake_thematique_id\",\n                  commentaire: \"fake_commentaire\",\n                });\n              }).then(() => {\n                Reponse.sync({ force: true }).then(() => {\n                  Reponse.create({\n                    id: \"fake_reponse_id\",\n                    remplissage_id: \"fake_remplissage_id\",\n                    question_id: \"fake_question_id\",\n                    valeur: 0,\n                  });\n                }).then(() => {\n                  console.log(\"tables créées\");\n                  resolveAll();\n                });\n              });\n            });\n          });\n        });\n      });\n    });\n  });\n};\n\nconst suppressionTables = function () {\n  return new Promise(function (resolveAll) {\n    const commentaireDel = new Promise(function (resolve) {\n      Commentaire.drop().then(() => {\n        resolve();\n      });\n    });\n      \n    const reponseDel = new Promise(function (resolve) {\n      Reponse.drop().then(() => {\n        resolve();\n      });\n    });\n      \n    const jourSondageDel = new Promise(function (resolve) {\n      JourSondage.drop().then(() => {\n        resolve();\n      });\n    });\n      \n    Promise.all([commentaireDel, reponseDel, jourSondageDel]).then(() => {\n      const questionDel = new Promise(function (resolve) {\n        Question.drop().then(() => {\n          resolve();\n        });\n      });\n      const remplissageDel = new Promise(function (resolve) {\n        Remplissage.drop().then(() => {\n          resolve();\n        });\n      });\n      Promise.all([questionDel, remplissageDel]).then(() => {\n        const thematiqueDel = new Promise(function (resolve) {\n          Thematique.drop().then(() => {\n            resolve();\n          });\n        });\n        const userDel = new Promise(function (resolve) {\n          User.drop().then(() => {\n            resolve();\n          });\n        });\n        Promise.all([thematiqueDel, userDel]).then(() => {\n          Sondage.drop().then(() => {\n            console.log(\" -- anciennes tables supprimées --\");\n            resolveAll();\n          });\n        });\n      });\n    });\n  });\n};\n\nconst setupTables = function () {\n  return new Promise(function (resolve) {\n    suppressionTables().then(() => {\n      creationTable().then(() => {\n        resolve();\n      });\n    });\n  });\n};\n\nconst delReponse = function () {\n  return new Promise(function (resolve) {\n    Reponse.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst delCommentaire = function () {\n  return new Promise(function (resolve) {\n    Commentaire.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst delJourSondage = function () {\n  return new Promise(function (resolve) {\n    JourSondage.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst delQuestion = function () {\n  return new Promise(function (resolve) {\n    Question.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\nconst delRemplissage = function () {\n  return new Promise(function (resolve) {\n    Remplissage.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst delThematique = function () {\n  return new Promise(function (resolve) {\n    Thematique.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\nconst delSondage = function () {\n  return new Promise(function (resolve) {\n    Sondage.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst delUser = function () {\n  return new Promise(function (resolve) {\n    User.findOne().then((elem) => {\n      elem.destroy().then(resolve);\n    });\n  });\n};\n\nconst clearTable = function () {\n  return new Promise(function (resolve) {\n    setupTables().then(() => {\n      let promises = [];\n      promises.push(delReponse(), delCommentaire(), delJourSondage());\n      Promise.all(promises).then(() => {\n        promises = [delQuestion(), delRemplissage()];\n        Promise.all(promises).then(() => {\n          promises = [delThematique(), delSondage()];\n          Promise.all(promises).then(() => {\n            delUser().then(() => {\n              console.log(\"Tables nettoyées\");\n              resolve();\n            });\n          });\n        });\n      });\n    });\n  });\n};\n\nmodule.exports = clearTable;"],"file":"setup.js"}